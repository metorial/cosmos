{
  "components": [
    {
      "type": "service",
      "name": "hello-web",
      "hash": "hello-web-v1-20251208",
      "tags": [
        "service"
      ],
      "handler": "nomad",
      "managed": true,
      "nomad_job_data": {
        "ID": "hello-web",
        "Name": "hello-web",
        "Type": "service",
        "Datacenters": [
          "*"
        ],
        "NodePool": "default",
        "TaskGroups": [
          {
            "Name": "web",
            "Count": 3,
            "Networks": [
              {
                "Mode": "bridge",
                "DynamicPorts": [
                  {
                    "Label": "http",
                    "To": 5678
                  }
                ]
              }
            ],
            "Services": [
              {
                "Name": "hello-web",
                "PortLabel": "http",
                "Tags": [
                  "traefik.enable=true",
                  "traefik.http.routers.hello-web.rule=PathPrefix(`/hello`)",
                  "traefik.http.routers.hello-web.entrypoints=http",
                  "traefik.http.services.hello-web.loadbalancer.server.port=5678",
                  "traefik.http.middlewares.hello-web-strip.stripprefix.prefixes=/hello",
                  "traefik.http.routers.hello-web.middlewares=hello-web-strip"
                ],
                "Checks": [
                  {
                    "Name": "http-health",
                    "Type": "http",
                    "Path": "/",
                    "Interval": 10000000000,
                    "Timeout": 2000000000
                  }
                ]
              }
            ],
            "Tasks": [
              {
                "Name": "web",
                "Driver": "docker",
                "Config": {
                  "image": "hashicorp/http-echo:latest",
                  "args": [
                    "-listen=:5678",
                    "-text=Hello from Cosmos! This request was routed through Traefik."
                  ]
                },
                "Resources": {
                  "CPU": 100,
                  "MemoryMB": 128
                }
              }
            ]
          }
        ]
      }
    }
  ]
}